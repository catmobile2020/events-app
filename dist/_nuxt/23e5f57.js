(window.webpackJsonp=window.webpackJsonp||[]).push([[22,9],{441:function(t,e,n){var content=n(455);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(40).default)("094d5cd0",content,!0,{sourceMap:!1})},445:function(t,e,n){t.exports=n.p+"img/icon.5b36f19.png"},446:function(t,e,n){"use strict";n.r(e);var o=n(442),r=(n(72),n(49),n(81),n(21),n(15),n(50),n(608)),c=n(609),l=n(610),d=n(611),v=n(438),f=n(449),m=n(456),h={components:{LMap:r.a,LTileLayer:c.a,LMarker:l.a,LTooltip:d.a,LGeosearch:m.a},props:{defaultLocation:{type:Object,default:function(){return{lat:24.222142,lng:45.0741}},position:Object},userLocations:{type:Object,position:Object},mapIndex:{type:Number}},data:function(){return{map:!1,loading:!1,userLocation:{lat:24.222142,lng:45.0741},geoSearchOptions:{provider:new f.a,showMarker:!1,autoClose:!0},icon:Object(v.icon)({iconRetinaUrl:n(445),iconUrl:n(452),shadowUrl:n(453)}),position:{},addressMap:"",tileProvider:{attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},zoom:3,dragging:!1}},mounted:function(){var t=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){t.userLocation={lat:e.coords.latitude,lng:e.coords.longitude}})),this.$refs.map.mapObject.on("geosearch/showlocation",this.onSearch),this.$nextTick((function(){setTimeout((function(){t.map=!0,t.$refs.map.mapObject.invalidateSize(),t.$refs.map.mapObject.on("geosearch/showlocation",t.onSearch)}),200)}))},methods:{modalShown:function(){var t=this;setTimeout((function(){t.$refs.mymap.mapObject.invalidateSize()}),100)},onMapClick:function(t){this.position=t.latlng,this.$emit("onMapValue",t,this.mapIndex),this.userLocation="",this.userLocations={}},onSearch:function(t){var e=t.location;this.position={lat:e.y,lng:e.x}}},computed:{tooltipContent:function(){return this.dragging?"...":this.loading?"Loading...":"<strong>".concat(this.addressMap.replace(",","<br/>"),"</strong> <hr/><strong>lat:</strong> ").concat(this.position.lat,"<br/> <strong>lng:</strong> ").concat(this.position.lng)},tooltipCurrentPosition:function(){return this.dragging?"...":this.loading?"Loading...":"<strong>lat:</strong> ".concat(this.userLocation.lat,"<br/> <strong>lng:</strong> ").concat(this.userLocation.lng)}}},x=(n(454),n(61)),component=Object(x.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center map-container"},[e(o.a,{attrs:{cols:"12"}},[e("div",{staticClass:"ConOfLmap"},[e("l-map",{ref:"map",staticClass:"map",staticStyle:{height:"500px",width:"100%"},attrs:{zoom:t.zoom,center:[t.position.lat||t.userLocation.lat||t.defaultLocation.lat,t.position.lng||t.userLocation.lng||t.defaultLocation.lng]},on:{click:t.onMapClick}},[e("l-tile-layer",{attrs:{url:t.tileProvider.url,attribution:t.tileProvider.attribution}}),t._v(" "),e("l-geosearch",{attrs:{options:t.geoSearchOptions}}),t._v(" "),t.userLocation.lat&&t.userLocation.lng?e("l-marker",{staticClass:"user-location",attrs:{icon:t.icon,"lat-lng":t.userLocation},on:{"update:latLng":function(e){t.userLocation=e},"update:lat-lng":function(e){t.userLocation=e}}}):t.position.lat&&t.position.lng?e("l-marker",{attrs:{visible:"",draggable:"",icon:t.icon,"lat-lng":t.position},on:{"update:latLng":function(e){t.position=e},"update:lat-lng":function(e){t.position=e},dragstart:function(e){t.dragging=!0},dragend:function(e){t.dragging=!1}}}):t._e()],1)],1)])],1)}),[],!1,null,null,null);e.default=component.exports},454:function(t,e,n){"use strict";n(441)},455:function(t,e,n){var o=n(39)((function(i){return i[1]}));o.push([t.i,".map{height:300px;position:relative;width:500px}",""]),o.locals={},t.exports=o},462:function(t,e,n){t.exports=n.p+"img/event-icon.768a7b5.png"},473:function(t,e,n){"use strict";n.r(e);var o,r=n(427),c=n(482),l=n(439),d=n(442),v=n(437),f=n(614),m=n(627),h=n(426),x=n(504),C=n(629),_=n(607),y=n(435),w=n(436),k=n(601),D=(n(24),n(3)),L=n(12),j=(n(67),n(5),n(17),n(80),n(608)),O=n(609),M=n(610),E=n(611),$=n(438),S=n(449),P=n(456),T=(n(446),o={components:{LMap:j.a,LTileLayer:O.a,LMarker:M.a,LTooltip:E.a,LGeosearch:P.a},props:{defaultLocation:{type:Object,default:function(){return{lat:8.9806,lng:38.7578}}}},data:function(){return{eventData:{name:"",type:"",start:"",latitude:"",longitude:""},item:{id:""},date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu2:!1,errorSnackbar:!1,timeout:3e3,errorMessage:"",showDialog:!1,confirmDialoge:!1,isEditing:!1,map:!1,loading:!1,userLocation:{},geoSearchOptions:{provider:new S.a,showMarker:!1,autoClose:!0},icon:Object($.icon)({iconRetinaUrl:n(445),iconUrl:n(452),shadowUrl:n(453)}),position:{},addressMap:"",tileProvider:{attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},zoom:18,address:[{lat:null,lon:null}],events:[],eventId:""}},computed:{},methods:{eventAddNew:function(){var t=this;return Object(L.a)(regeneratorRuntime.mark((function e(){var data,n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$post("/admin/events",t.eventData);case 3:data=e.sent,t.events=data.data,t.showDialog=!1,t.$router.push("/content/schedule"),e.next=12;break;case 9:if(e.prev=9,e.t0=e.catch(0),e.t0.response&&e.t0.response.data){for(r in n=e.t0.response.data.error,o=[],n)Array.isArray(n[r])&&n[r].forEach((function(t){o.push(t)}));t.errorSnackbar=!0,t.errorMessage=o.join("\n"),console.error("Registration failed:",t.errorMessage)}else console.error("Registration failed:",e.t0.message),t.errorMessage="Registration failed. Please try again later.";case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},eventEdited:function(){var t=this;return Object(L.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$put("/admin/events",t.eventData);case 3:e.sent,t.showDialog=!1,e.next=10;break;case 7:if(e.prev=7,e.t0=e.catch(0),e.t0.response&&e.t0.response.data){for(r in n=e.t0.response.data.error,o=[],n)Array.isArray(n[r])&&n[r].forEach((function(t){o.push(t)}));t.errorSnackbar=!0,t.errorMessage=o.join("\n"),console.error("Registration failed:",t.errorMessage)}else console.error("Registration failed:",e.t0.message),t.errorMessage="Registration failed. Please try again later.";case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},editEvent:function(t){this.isEditing=!0,console.log("item",t),this.eventData={name:t.name,type:t.type,start:t.start},this.showDialog=!0},saveItem:function(){this.isEditing?this.eventEdited():this.eventAddNew()},closeProjectModal:function(){var t=this;this.editedIndex=-1,this.dialogProject=!1,this.$nextTick((function(){t.$v.$reset(),t.formItem=Object.assign({},t.defaultItem)}))},openDeleteEventDailoge:function(t){console.log("item",t);var e=t.id;console.log("eventId",e),this.confirmDialoge=!0},deleteEvent:function(t){var e=this;return Object(L.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("eventId",t),n.prev=1,n.next=4,e.$axios.delete("admin/events/".concat(t));case 4:e.getEventsData(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),console.error("Error deleting event:",n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},getEventsData:function(){var t=this;return Object(L.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/admin/events");case 2:data=e.sent,t.events=data.data,console.log("this.questions",t.events);case 5:case"end":return e.stop()}}),e)})))()},redirectToOverview:function(t){this.$router.push("/dashboard/".concat(t))},chooseMap:function(t,i){this.address[i]||(this.address[i]={}),this.address[i].lat=t.latlng.lat,this.address[i].lon=t.latlng.lng,this.eventData.latitude=t.latlng.lat,this.eventData.longitude=t.latlng.lng}},mounted:function(){var t=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){t.userLocation={lat:e.coords.latitude,lng:e.coords.longitude}}))},created:function(){this.getEventsData()}},Object(D.a)(o,"computed",{dialogTitle:function(){return this.isEditing?"Edit Event":"Create New Event"}}),Object(D.a)(o,"watch",{dialogProject:function(t){t||this.closeProjectModal()}}),o),R=n(61),component=Object(R.a)(T,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"brief-components"},[e(v.a,[e(d.a,{staticClass:"d-flex justify-center",attrs:{cols:"12",md:"12"}},[e(d.a,{attrs:{lg:"3",md:"4",sm:"6",cols:"12"}},[e(c.a,{staticClass:"mx-auto fill-height",attrs:{"max-width":"100%",elevation:"0"},on:{click:function(e){t.showDialog=!0}}},[e("div",{staticClass:"fill-height py-7 d-flex justify-center conCard"},[e("div",{staticClass:"d-flex align-center justify-center flex-column"},[e(h.a,{staticClass:"event-icon"},[t._v("mdi-plus")]),t._v(" "),e("div",{staticClass:"conTxt"},[t._v("Create Event")])],1)])])],1)],1),t._v(" "),e(y.a,{staticClass:"d-md-flex justify-center",attrs:{cols:"12",md:"12"}},t._l(t.events,(function(o,i){return e(d.a,{key:i,attrs:{lg:"3",md:"2",sm:"6",cols:"12"}},[e(c.a,{staticClass:"mx-auto",attrs:{"max-width":"100%",elevation:"0"}},[e("div",{staticClass:"py-2 event-card"},[e("div",{staticClass:"d-flex align-items-center justify-space-between"},[e("div",{staticClass:"d-flex align-items-center"},[e("img",{staticClass:"event-icon",attrs:{src:n(462),alt:"magic-link"}}),t._v(" "),e("div",{staticClass:"conTxt",on:{click:function(e){return t.redirectToOverview(o.id)}}},[t._v("\n                  "+t._s(o.name)+"\n                ")])]),t._v(" "),e("div",[e(h.a,{staticClass:"px-2",on:{click:function(e){return t.editEvent(o)}}},[t._v("mdi-pencil")]),t._v(" "),e(h.a,{staticClass:"px-2",on:{click:function(e){return t.openDeleteEventDailoge(o)}}},[t._v("mdi-delete")])],1)]),t._v(" "),e("div",{staticClass:"created"},[t._v(t._s(o.created_at))])])])],1)})),1)],1),t._v(" "),e(m.a,{attrs:{"max-width":"500px"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[e(c.a,{staticClass:"conConfirmPopup"},[e(l.c,[e("span",{staticClass:"text-h5 modalTitle"},[t._v(t._s(t.dialogTitle))])]),t._v(" "),e(l.b,{staticClass:"textConfirm"},[e(v.a,[e(y.a,{staticClass:"conFormSubmit d-flex justify-center"},[e(d.a,{attrs:{cols:"12"}},[e("div",{staticClass:"pt-3"},[e(k.a,{attrs:{label:"Event Name",outlined:""},model:{value:t.eventData.name,callback:function(e){t.$set(t.eventData,"name",e)},expression:"eventData.name"}})],1)]),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(_.a,{model:{value:t.eventData.type,callback:function(e){t.$set(t.eventData,"type",e)},expression:"eventData.type"}},[e(C.a,{attrs:{label:"hybrid",value:"hybrid"}}),t._v(" "),e(C.a,{attrs:{label:"virtual",value:"virtual"}})],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(x.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(k.a,t._g(t._b({attrs:{label:"Start of your event","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.eventData.start,callback:function(e){t.$set(t.eventData,"start",e)},expression:"eventData.start"}},"v-text-field",r,!1),o))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t._v(" "),e(f.a,{on:{input:function(e){t.menu2=!1}},model:{value:t.eventData.start,callback:function(e){t.$set(t.eventData,"start",e)},expression:"eventData.start"}})],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("Map",{on:{onMapValue:t.chooseMap}})],1)],1)],1)],1),t._v(" "),e(l.a,{staticClass:"pb-7"},[e(w.a),t._v(" "),e(r.a,{staticClass:"btnCancel",attrs:{tile:""},on:{click:function(e){e.stopPropagation(),t.showDialog=!1}}},[t._v("Cancel")]),t._v(" "),e(r.a,{staticClass:"btnPrimaryOrg",attrs:{tile:""},on:{click:function(e){return t.saveItem()}}},[t._v("Confirm")]),t._v(" "),e(w.a)],1)],1)],1),t._v(" "),e(m.a,{attrs:{"max-width":"500px"},model:{value:t.confirmDialoge,callback:function(e){t.confirmDialoge=e},expression:"confirmDialoge"}},[e(c.a,{staticClass:"conConfirmPopup"},[e(l.c,[e("span",{staticClass:"text-h5 modalTitle"},[t._v("Are you sure")])]),t._v(" "),e(l.b,{staticClass:"textConfirm"},[t._v("Are you sure you want to delete this event ?\n        "+t._s(t.item.id))]),t._v(" "),e(l.a,{staticClass:"pb-7"},[e(w.a),t._v(" "),e(r.a,{staticClass:"btnCancel",attrs:{tile:""},on:{click:function(e){e.stopPropagation(),t.confirmDialoge=!1}}},[t._v("Cancel")]),t._v(" "),e(r.a,{staticClass:"btnPrimaryOrg",attrs:{tile:""},on:{click:function(e){return t.deleteEvent(t.eventId)}}},[t._v("Confirm")]),t._v(" "),e(w.a)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Map:n(446).default})},620:function(t,e,n){"use strict";n.r(e);var o={layout:"auth",name:"analytics",components:{CreateEvent:n(473).default}},r=n(61),component=Object(r.a)(o,(function(){var t=this._self._c;return t("div",{staticClass:"homepage"},[t("section",{staticClass:"header-section"},[t("CreateEvent")],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CreateEvent:n(473).default})}}]);